<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var carrakos = ["Chevrolet", "Tesla", "BMW", ["Honda", "Infiniti", ["Lexus", "Mercedes", "Kia"], "Hyunday"], ["Mazda", "Mercedes", "Jeep", ["KTM", "Nissan", "Isuzu"]]];
        var newcars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday","Volvo"]];

        var buddies = [{ firstName: "Jonny", lastName: "Ranbo", car: "BMW"},
        { firstName: "Arnold", lastName: "Suarchenager", car: "Honda"},
        { firstName: "Chuck", lastName: "Norris", car: "Honda"},
        { firstName: "Yakie", lastName: "Chang", car: "BMW"},
        { firstName: "Bruce", lastName: "Lee", car: "Honda"},
        { firstName: "Steven", lastName: "Seagal", car: "Lada"}];


        //¿Cuántas veces aparece la palabra Volvo en newcars en una línea?

        console.log(newcars.flat(Infinity).filter(cars => cars === "Volvo").length);


        //Ver si una marca es trendy. Una marca es trendy si esta es utilizada por más de un buddy

        console.log(buddies.map(buddie => buddie.car).filter((car, index, array) => array.indexOf(car) !== index && array.lastIndexOf(car) === index));


        //Muestra por consola las marcas del array newcars que usen los buddies, que están obviamente en newcars pero que no estén en el array xungas.
        
        console.log(newcars.flat(Infinity).filter(cars =>  carrakos.flat(Infinity).find(carrako => carrako === cars)));



        //Se quiere conocer la marca más trendy de todas usada por los buddies


    const carCounts2 = buddies.map(buddy => buddy.car);
    const mostTrendy = carCounts2.find((car, index) => carCounts2.filter(c => c === car).length === Math.max(...carCounts2.map(brand => carCounts2.filter(b => b === brand).length)));

    console.log(mostTrendy);


    </script>
</body>
</html>